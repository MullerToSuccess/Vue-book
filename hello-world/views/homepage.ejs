<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title><%= title %></title>
    <!--<title>Homepage</title>-->
    <link type="text/css" rel='stylesheet' href='/stylesheets/style.css'>
    <link type="text/css" rel="stylesheet" href="/stylesheets/mybook.css">
    <link type="text/css" rel="stylesheet" href="/stylesheets/bootstrap.css">
</head>
<body>
<h1>My BookMS</h1>
<p>Welcome to <%= title %></p>
<p><a href="logout">登出</a></p>
<div id="app">
    <table class="table table-striped table-condensed">
        <thead>
        <tr>
            <th>序号</th>
            <th>书名</th>
            <th>作者</th>
            <th>价格</th>
            <th>操作</th>
        </tr>
        </thead>
        <tr v-for="book in books" v-cloak>
            <td>{{book.id}}</td>
            <td>{{book.name}}</td>
            <td>{{book.author}}</td>
            <td>{{book.price}}</td>
            <template v-if="book.id % 2 ==0">
                <td><button type="button" class="btn btn-danger" @click="delBook(book)">删除</button></td>
            </template>
            <template v-else>
                <td><button type="button" class="btn btn-success" @click="delBook(book)">删除</button></td>
            </template>
        </tr>
    </table>
    <div id="add-book">
        <legend>添加书籍</legend>
        <div class="form-group">
            <label for="">书名</label>
            <input type="text" class="form-control" v-model="book.name">
        </div>
        <div class="form-group">
            <label for="">作者</label>
            <input type="text" class="form-control" v-model="book.author">
        </div>
        <div class="form-group">
            <label for="">价格</label>
            <input type="text" class="form-control" v-model="book.price">
        </div>
        <button class="btn btn-primary btn-block" @click="addBook()">添加</button>
        <span style="background: #c0a16b">总价为：{{ sum }}</span>
    </div>
</div>
</body>
</html>
<script src="/javascripts/vue.js"></script>
<script src="/javascripts/book.js"></script>